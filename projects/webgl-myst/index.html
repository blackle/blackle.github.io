<!DOCTYPE html>
<html xmlns:fb="http://ogp.me/ns/fb#">
  <head>
    <title>WebGL Myst Game - Blackle Mori</title>
    <link rel="icon" type="image/x-icon" href="/favicon.ico"/>
    <meta property="og:image" content="/images/logo.gif" />
    <meta property="og:site_name" content="Blackle-Mori"/>
    <meta name="viewport" content="initial-scale=0.6, width=device-width" />
    <meta name="author" content="Blackle Mori" />
    <link href="/index.css" type="text/css" rel="stylesheet" />
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-61976242-1', 'auto');
  ga('send', 'pageview');

</script>
  </head>
  <body>
    <header>
      <h1>Blackle-Mori</h1>
      <nav>
        <ul>
          <li><a href="/">about</a></li>
          <li><a href="/portfolio/">portfolio</a></li>
          <li><a href="/projects/">projects</a></li>
          <li><a href="/links/">links</a></li>
        </ul>
      </nav>
    </header>
    <main>
<article class="main-article">
<figure style="background-image: url('/projects/webgl-myst/cover.jpg')" ></figure>
<h2>WebGL Myst Game</h2>
<time datetime="2014-10-17">Posted on Fri Oct 17, 2014 by Isabelle Knott</time>
<p>I've been working making a Myst III style game in WebGL for a while now. I made one quite a bit ago that takes place in the middle of some clouds, but it stopped working.</p>
<p>To get a look at the game in it's current state, <a target="_blank" href="/stuff/myst/">click here</a></p>
<p>Read more under the cut.</p>

<p>The game essentially works by putting a box around the camera that is textured to look like the camera is really in an atrium of pillars. This technique is called skyboxing, and sorta resembles the way Wile E. Coyote would attempt to trick the roadrunner by painting a tunnel into the side of a cliff.</p>
<p>I'm packing the textures for these boxes <a href="/stuff/myst/img/boxes2/BOX_0.jpg">like this</a>. Although the size of each subtexture in the image is a power of 2, there are still sometimes visible seams on the edges of the box, which ruins the illusion. I've been looking into how to force threejs to use integers for it's UV mappings, instead of fractions of the width/height. That might fix it.</p>
<p>In order to keep the preload code easy, I've combined all of the assets into a single JSON file by using <a href="http://en.wikipedia.org/wiki/Data_URI_scheme">base64 encoded data uris</a>. Although the file is big&mdash;about 11 MBs last time I checked&mdash;the loading code is just a single ajax request.</p>
<p>This might not be the best solution, however. I've heard reports from people who say the game refuses to load, or loads with incomplete data (skybox walls missing, etc). I think the problem is the main data file gets truncated. It might have something to do with my host (I'm using github pages) but if it's not, I have no idea how to fix it. Is there a hidden limit on how big a JSON file can be, before the browser just says "no, that's enough, we're cutting it off?" Wouldn't that limit be on the javascript side, not the browser's file retrieval side?</p>
<p>Whatever it is, it's keeping me from showing this to about 50% of chrome users, which is frustrating since I'm really proud of it.</p>
<p>I thought it would be neat to experiment with video textures, perhaps making video skyboxes. In Myst III any kind of animation was taken care of by cinematics; the user would lose control of the camera, it would move toward an area of the skybox and a video would play over it. I've been experimenting with setting the walls of the skybox to an animated webm video. These webm files are actually surprisingly small. About 10 MB per.</p>
<p>Additionally, I need to figure out an elegant way to allow "zoom views." When the player clicks on an object they should be able to see a close of view of it in the form of a static image. Also, the zoom views should allow for interactivity. An example being a sliding box puzzle or the like.</p>

<div class="twitter-button"><a href="https://twitter.com/share" class="twitter-share-button" data-via="blacklemon67" data-dnt="true">Tweet</a>
<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>
</div>
<div class="clearfix"></div></article>
    </main>
  </body>
</html>
